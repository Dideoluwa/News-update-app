{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import styles from\"./App.module.css\";import NavBar from\"./Components/NavBar\";import Footer from\"./Components/Footer\";import RandomNewsFeed from\"./Components/RandomNewsFeed\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),feed=_useState2[0],setFeed=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function fetchedNewsHandler(){return _fetchedNewsHandler.apply(this,arguments);}// useEffect(() =>{\n//  fetchedNewsHandler()\n// }, [])\nfunction _fetchedNewsHandler(){_fetchedNewsHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var endpoint,response,data,loadedFeed,newsList,_iterator,_step,newsLists;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFeed([]);endpoint=\"https://gnews.io/api/v4/top-headlines?token=6ad4161893ca83bd5bb69478a1ef9f0c&lang=en\";_context.prev=2;_context.next=5;return fetch(endpoint);case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Something Went Wrong\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;loadedFeed=[];newsList=data.articles;_iterator=_createForOfIteratorHelper(newsList);try{for(_iterator.s();!(_step=_iterator.n()).done;){newsLists=_step.value;loadedFeed.push({time:newsLists.publishedAt,id:newsLists.publishedAt,title:newsLists.title,content:newsLists.content,image:newsLists.image,url:newsLists.url,source:newsLists.source.name});setFeed(loadedFeed);}}catch(err){_iterator.e(err);}finally{_iterator.f();}_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);setError(_context.t0.message);case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,17]]);}));return _fetchedNewsHandler.apply(this,arguments);}var fetchTest=function fetchTest(){fetchedNewsHandler();};return/*#__PURE__*/_jsxs(\"div\",{className:styles.body,children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(RandomNewsFeed,{feed:feed}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchTest,children:\"Click me\"})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","styles","NavBar","Footer","RandomNewsFeed","App","feed","setFeed","error","setError","fetchedNewsHandler","endpoint","fetch","response","ok","Error","json","data","loadedFeed","newsList","articles","newsLists","push","time","publishedAt","id","title","content","image","url","source","name","message","fetchTest","body"],"sources":["/Users/mac/Desktop/Darasimi files/News update app (React)/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./App.module.css\";\nimport NavBar from \"./Components/NavBar\";\nimport Footer from \"./Components/Footer\";\nimport RandomNewsFeed from \"./Components/RandomNewsFeed\";\n\nconst App = () => {\n  let [feed, setFeed] = useState([]);\n  let [error, setError] = useState(null);\n\n  async function fetchedNewsHandler() {\n    setFeed([]);\n    let endpoint =\n      \"https://gnews.io/api/v4/top-headlines?token=6ad4161893ca83bd5bb69478a1ef9f0c&lang=en\";\n    try {\n      let response = await fetch(endpoint);\n      if (!response.ok) {\n        throw new Error(\"Something Went Wrong\");\n      }\n      let data = await response.json();\n      let loadedFeed = [];\n      let newsList = data.articles;\n      for (let newsLists of newsList) {\n        loadedFeed.push({\n          time: newsLists.publishedAt,\n          id: newsLists.publishedAt,\n          title: newsLists.title,\n          content: newsLists.content,\n          image: newsLists.image,\n          url: newsLists.url,\n          source: newsLists.source.name,\n        });\n        setFeed(loadedFeed);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  // useEffect(() =>{\n  //  fetchedNewsHandler()\n  // }, [])\n\n  let fetchTest = () => {\n    fetchedNewsHandler();\n  };\n\n  return (\n    <div className={styles.body}>\n      <NavBar />\n      <RandomNewsFeed feed={feed} />\n      <button onClick={fetchTest}>Click me</button>\n      {/* Don't forget to come here after!!! */}\n      {/* <Footer /> */}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"ulBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,6BAA3B,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChB,cAAsBN,QAAQ,CAAC,EAAD,CAA9B,wCAAKO,IAAL,eAAWC,OAAX,eACA,eAAwBR,QAAQ,CAAC,IAAD,CAAhC,yCAAKS,KAAL,eAAYC,QAAZ,eAFgB,QAIDC,CAAAA,kBAJC,qDAiChB;AACA;AACA;AAnCgB,2GAIhB,4MACEH,OAAO,CAAC,EAAD,CAAP,CACII,QAFN,CAGI,sFAHJ,uCAKyBC,CAAAA,KAAK,CAACD,QAAD,CAL9B,QAKQE,QALR,kBAMSA,QAAQ,CAACC,EANlB,8BAOY,IAAIC,CAAAA,KAAJ,CAAU,sBAAV,CAPZ,+BASqBF,CAAAA,QAAQ,CAACG,IAAT,EATrB,SASQC,IATR,eAUQC,UAVR,CAUqB,EAVrB,CAWQC,QAXR,CAWmBF,IAAI,CAACG,QAXxB,sCAY0BD,QAZ1B,MAYI,+CAAgC,CAAvBE,SAAuB,aAC9BH,UAAU,CAACI,IAAX,CAAgB,CACdC,IAAI,CAAEF,SAAS,CAACG,WADF,CAEdC,EAAE,CAAEJ,SAAS,CAACG,WAFA,CAGdE,KAAK,CAAEL,SAAS,CAACK,KAHH,CAIdC,OAAO,CAAEN,SAAS,CAACM,OAJL,CAKdC,KAAK,CAAEP,SAAS,CAACO,KALH,CAMdC,GAAG,CAAER,SAAS,CAACQ,GAND,CAOdC,MAAM,CAAET,SAAS,CAACS,MAAV,CAAiBC,IAPX,CAAhB,EASAxB,OAAO,CAACW,UAAD,CAAP,CACD,CAvBL,sIAyBIT,QAAQ,CAAC,YAAMuB,OAAP,CAAR,CAzBJ,qEAJgB,qDAqChB,GAAIC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBvB,kBAAkB,GACnB,CAFD,CAIA,mBACE,aAAK,SAAS,CAAET,MAAM,CAACiC,IAAvB,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,cAAD,EAAgB,IAAI,CAAE5B,IAAtB,EAFF,cAGE,eAAQ,OAAO,CAAE2B,SAAjB,sBAHF,GADF,CASD,CAlDD,CAoDA,cAAe5B,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}