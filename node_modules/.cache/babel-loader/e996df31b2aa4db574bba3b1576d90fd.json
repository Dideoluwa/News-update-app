{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/mac/Desktop/Darasimi files/News update app (React)/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import styles from\"./RandomNewsFeed.module.css\";import NavBar from\"./NavBar\";import RandomNewsFeedList from\"./RandomNewsFeedList\";import Loader from\"./Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RandomNewsFeed(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),feed=_useState2[0],setFeed=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];function fetchedNewsHandler(){return _fetchedNewsHandler.apply(this,arguments);}function _fetchedNewsHandler(){_fetchedNewsHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var endpoint,response,data,loadedFeed,newsList,_iterator,_step,newsLists;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFeed([]);setLoading(true);setError(null);endpoint=\"https://gnews.io/api/v4/top-headlines?token=6ad4161893ca83bd5bb69478a1ef9f0c&lang=en\";_context.prev=4;_context.next=7;return fetch(endpoint);case 7:response=_context.sent;if(response.ok){_context.next=10;break;}throw new Error(\"Something Went Wrong.Try again tomorrow\");case 10:_context.next=12;return response.json();case 12:data=_context.sent;loadedFeed=[];newsList=data.articles;_iterator=_createForOfIteratorHelper(newsList);try{for(_iterator.s();!(_step=_iterator.n()).done;){newsLists=_step.value;loadedFeed.push({time:newsLists.publishedAt,id:newsLists.publishedAt,title:newsLists.title,content:newsLists.content,image:newsLists.image,url:newsLists.url,source:newsLists.source.name});setFeed(loadedFeed);}}catch(err){_iterator.e(err);}finally{_iterator.f();}_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](4);setError(_context.t0.message);case 22:setLoading(false);case 23:case\"end\":return _context.stop();}}},_callee,null,[[4,19]]);}));return _fetchedNewsHandler.apply(this,arguments);}useEffect(function(){fetchedNewsHandler();},[]);//   let fetchTest = () => {\n//     fetchedNewsHandler();\n//   };\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.body,children:/*#__PURE__*/_jsxs(\"h1\",{className:styles.heading,children:[\"World\",/*#__PURE__*/_jsx(\"span\",{className:styles.span,children:\"News\"})]})}),/*#__PURE__*/_jsx(RandomNewsFeedList,{feeds:feed})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.error,children:error&&/*#__PURE__*/_jsxs(\"h1\",{children:[error,\" or Check your internet connection\"]})})]});}export default RandomNewsFeed;","map":{"version":3,"names":["React","useState","useEffect","styles","NavBar","RandomNewsFeedList","Loader","RandomNewsFeed","props","feed","setFeed","error","setError","loading","setLoading","fetchedNewsHandler","endpoint","fetch","response","ok","Error","json","data","loadedFeed","newsList","articles","newsLists","push","time","publishedAt","id","title","content","image","url","source","name","message","body","heading","span"],"sources":["/Users/mac/Desktop/Darasimi files/News update app (React)/src/Components/RandomNewsFeed.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./RandomNewsFeed.module.css\";\nimport NavBar from \"./NavBar\";\nimport RandomNewsFeedList from \"./RandomNewsFeedList\";\nimport Loader from \"./Loader\";\n\nfunction RandomNewsFeed(props) {\n  let [feed, setFeed] = useState([]);\n  let [error, setError] = useState(null);\n  let [loading, setLoading] = useState(false);\n\n  async function fetchedNewsHandler() {\n    setFeed([]);\n    setLoading(true);\n    setError(null);\n    let endpoint =\n      \"https://gnews.io/api/v4/top-headlines?token=6ad4161893ca83bd5bb69478a1ef9f0c&lang=en\";\n    try {\n      let response = await fetch(endpoint);\n      if (!response.ok) {\n        throw new Error(\"Something Went Wrong.Try again tomorrow\");\n      }\n      let data = await response.json();\n      let loadedFeed = [];\n      let newsList = data.articles;\n      for (let newsLists of newsList) {\n        loadedFeed.push({\n          time: newsLists.publishedAt,\n          id: newsLists.publishedAt,\n          title: newsLists.title,\n          content: newsLists.content,\n          image: newsLists.image,\n          url: newsLists.url,\n          source: newsLists.source.name,\n        });\n        setFeed(loadedFeed);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n    setLoading(false);\n  }\n\n    useEffect(() =>{\n     fetchedNewsHandler()\n    }, [])\n\n//   let fetchTest = () => {\n//     fetchedNewsHandler();\n//   };\n  return (\n    <>\n      { loading && <Loader />}\n      <div>\n        <div>\n          <NavBar />\n          <div className={styles.body}>\n            <h1 className={styles.heading}>\n              World<span className={styles.span}>News</span>\n            </h1>\n          </div>\n          <RandomNewsFeedList feeds={feed} />\n        </div>\n        {/* <button onClick={fetchTest}>Click me</button> */}\n      </div>\n      <div className={styles.error}>\n      {error && <h1>{error} or Check your internet connection</h1>}\n      </div>\n    </>\n  );\n}\n\nexport default RandomNewsFeed;\n"],"mappings":"ulBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,6IAEA,QAASC,CAAAA,cAAT,CAAwBC,KAAxB,CAA+B,CAC7B,cAAsBP,QAAQ,CAAC,EAAD,CAA9B,wCAAKQ,IAAL,eAAWC,OAAX,eACA,eAAwBT,QAAQ,CAAC,IAAD,CAAhC,yCAAKU,KAAL,eAAYC,QAAZ,eACA,eAA4BX,QAAQ,CAAC,KAAD,CAApC,yCAAKY,OAAL,eAAcC,UAAd,eAH6B,QAKdC,CAAAA,kBALc,gKAK7B,4MACEL,OAAO,CAAC,EAAD,CAAP,CACAI,UAAU,CAAC,IAAD,CAAV,CACAF,QAAQ,CAAC,IAAD,CAAR,CACII,QAJN,CAKI,sFALJ,uCAOyBC,CAAAA,KAAK,CAACD,QAAD,CAP9B,QAOQE,QAPR,kBAQSA,QAAQ,CAACC,EARlB,+BASY,IAAIC,CAAAA,KAAJ,CAAU,yCAAV,CATZ,gCAWqBF,CAAAA,QAAQ,CAACG,IAAT,EAXrB,SAWQC,IAXR,eAYQC,UAZR,CAYqB,EAZrB,CAaQC,QAbR,CAamBF,IAAI,CAACG,QAbxB,sCAc0BD,QAd1B,MAcI,+CAAgC,CAAvBE,SAAuB,aAC9BH,UAAU,CAACI,IAAX,CAAgB,CACdC,IAAI,CAAEF,SAAS,CAACG,WADF,CAEdC,EAAE,CAAEJ,SAAS,CAACG,WAFA,CAGdE,KAAK,CAAEL,SAAS,CAACK,KAHH,CAIdC,OAAO,CAAEN,SAAS,CAACM,OAJL,CAKdC,KAAK,CAAEP,SAAS,CAACO,KALH,CAMdC,GAAG,CAAER,SAAS,CAACQ,GAND,CAOdC,MAAM,CAAET,SAAS,CAACS,MAAV,CAAiBC,IAPX,CAAhB,EASA1B,OAAO,CAACa,UAAD,CAAP,CACD,CAzBL,sIA2BIX,QAAQ,CAAC,YAAMyB,OAAP,CAAR,CA3BJ,QA6BEvB,UAAU,CAAC,KAAD,CAAV,CA7BF,qEAL6B,qDAqC3BZ,SAAS,CAAC,UAAK,CACda,kBAAkB,GAClB,CAFQ,CAEN,EAFM,CAAT,CAIJ;AACA;AACA;AACE,mBACE,2BACIF,OAAO,eAAI,KAAC,MAAD,IADf,cAEE,kCACE,oCACE,KAAC,MAAD,IADF,cAEE,YAAK,SAAS,CAAEV,MAAM,CAACmC,IAAvB,uBACE,YAAI,SAAS,CAAEnC,MAAM,CAACoC,OAAtB,gCACO,aAAM,SAAS,CAAEpC,MAAM,CAACqC,IAAxB,kBADP,GADF,EAFF,cAOE,KAAC,kBAAD,EAAoB,KAAK,CAAE/B,IAA3B,EAPF,GADF,EAFF,cAcE,YAAK,SAAS,CAAEN,MAAM,CAACQ,KAAvB,UACCA,KAAK,eAAI,sBAAKA,KAAL,wCADV,EAdF,GADF,CAoBD,CAED,cAAeJ,CAAAA,cAAf"},"metadata":{},"sourceType":"module"}